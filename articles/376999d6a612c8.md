---
title: "UbuntuでFTPサーバーを設定する"
emoji: "😎"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["FTP", "ubuntu"]
published: true
---
# 

~~~shell
sudo apt install vsftpd
~~~
設定ファイルは
/etc/vsftpd.conf

以下の行のコメントアウトを解除する
~~~
# 書き込みを許可
write_enable=YES

# アスキーモード転送許可。基本バイナリモードでやればよいが、改行コード変換したいときがあるかも。
ascii_upload_enable=YES
ascii_download_enable=YES

# ログイン時メッセージ。
ftpd_banner=Welcome to blah FTP service.

# ユーザーは自分のHomeより上にアクセスできない
chroot_local_user=YES

# chroot_local_user設定の例外を設定するリスト
# chroot_local_user=YESなら、NOにするユーザー名を、/etc/vsftpd.chroot_listに書いておく
chroot_list_enable=YES
~~~

起動
~~~
$ sudo systemctl enable vsftpd
Synchronizing state of vsftpd.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable vsftpd
$ sudo systemctl restart vsftpd
~~~

動作確認に、Localhostでログインしてみる
~~~
$ ftp localhost
Connected to localhost.
220 (vsFTPd 3.0.3)
Name (localhost:****): *    
331 Please specify the password.
Password:
230 Login successful.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp> pwd
257 "/home/omisema" is the current directory
~~~